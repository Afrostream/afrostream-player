/**
 * afrostream-player
 * @version 2.1.8
 * @copyright 2016 Afrostream, Inc.
 * @license Apache-2.0
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.afrostreamPlayer=e()}}(function(){return function e(t,n,o){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(r)return r(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return i(n?n:e)},c,c.exports,e,t,n,o)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var i=e("./track-controls/caption-track-button"),r=(o(i),e("./track-controls/audio-track-button")),a=(o(r),e("./track-controls/video-track-button")),s=(o(a),e("./next/next-video-button")),u=(o(s),e("./progress-control/load-progress-spinner")),l=(o(u),e("./progress-control/mouse-thumbnail-display"));o(l)},{"./next/next-video-button":3,"./progress-control/load-progress-spinner":5,"./progress-control/mouse-thumbnail-display":6,"./track-controls/audio-track-button":7,"./track-controls/caption-track-button":9,"./track-controls/video-track-button":14}],2:[function(e,t,n){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=function(e,t,n){for(var o=!0;o;){var i=e,r=t,a=n;o=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,r);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=r,n=a,o=!0,s=l=void 0}},u="undefined"!=typeof window?window.videojs:"undefined"!=typeof e?e.videojs:null,l=o(u),c=l["default"].getComponent("Component"),d=l["default"].getComponent("ClickableComponent"),f=function(e){function t(e,n){i(this,t),n=l["default"].mergeOptions(n,e.options_.controlBar.nextVideoButton||{}),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),n.poster||this.hide()}return r(t,e),a(t,[{key:"createEl",value:function(e,n,o){var i=s(Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-next-video-big-button",tabIndex:-1},o);return i}},{key:"handleClick",value:function(){s(Object.getPrototypeOf(t.prototype),"handleClick",this).call(this),this.player_.trigger("next")}}]),t}(d);f.prototype.options_={selectable:!1},f.prototype.controlText_="Next",c.registerComponent("NextVideoBigButton",f),l["default"].options.children.push("nextVideoBigButton"),n["default"]=f,t.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,t,n){(function(o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=function(e,t,n){for(var o=!0;o;){var i=e,r=t,a=n;o=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,r);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=r,n=a,o=!0,s=l=void 0}},l="undefined"!=typeof window?window.videojs:"undefined"!=typeof o?o.videojs:null,c=i(l),d=e("./next-video-item"),f=i(d),p=e("./next-video-big-button"),h=(i(p),c["default"].getComponent("Component")),y=c["default"].getComponent("ControlBar"),v=c["default"].getComponent("MenuButton"),g=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];r(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n)}return a(t,e),s(t,[{key:"createItems",value:function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];if(!this.options_.poster)return this.hide(),e;var t=new f["default"](this.player_,{label:"Next",selectable:!1,poster:this.options_.poster});return e.push(t),e}},{key:"buildCSSClass",value:function(){return"vjs-next-video-button "+u(Object.getPrototypeOf(t.prototype),"buildCSSClass",this).call(this)}},{key:"handleClick",value:function(){u(Object.getPrototypeOf(t.prototype),"handleClick",this).call(this),this.player_.trigger("next")}}]),t}(v);g.prototype.controlText_="Next video",y.prototype.options_.children.splice(y.prototype.options_.children.length-1,0,"nextVideoButton"),h.registerComponent("NextVideoButton",g),n["default"]=g,t.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./next-video-big-button":2,"./next-video-item":4}],4:[function(e,t,n){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=function(e,t,n){for(var o=!0;o;){var i=e,r=t,a=n;o=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,r);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=r,n=a,o=!0,s=l=void 0}},u="undefined"!=typeof window?window.videojs:"undefined"!=typeof e?e.videojs:null,l=o(u),c=l["default"].getComponent("Component"),d=l["default"].getComponent("MenuItem"),f=function(e){function t(e,n){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.setSrc(n.poster)}return r(t,e),a(t,[{key:"createEl",value:function(e,n,o){var i=s(Object.getPrototypeOf(t.prototype),"createEl",this).call(this,e,n,o);return this.fallbackImg_=l["default"].createEl(l["default"].browser.BACKGROUND_SIZE_SUPPORTED?"div":"img",{className:"thumb-tile_thumb"}),i.appendChild(this.fallbackImg_),i}},{key:"setSrc",value:function(e){var t=void 0;l["default"].browser.BACKGROUND_SIZE_SUPPORTED?(t="",e&&(t='url("'+e+'")'),this.fallbackImg_.style.backgroundImage=t):this.fallbackImg_.src=e}},{key:"handleClick",value:function(){s(Object.getPrototypeOf(t.prototype),"handleClick",this).call(this),this.player_.trigger("next")}}]),t}(d);c.registerComponent("NextVideoItem",f),n["default"]=f,t.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(e,t,n){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=function(e,t,n){for(var o=!0;o;){var i=e,r=t,a=n;o=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,r);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=r,n=a,o=!0,s=l=void 0}},u="undefined"!=typeof window?window.videojs:"undefined"!=typeof e?e.videojs:null,l=o(u),c=l["default"].getComponent("Component"),d=l["default"].getComponent("LoadProgressBar"),f=function(e){function t(e,n){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n)}return r(t,e),a(t,[{key:"createEl",value:function(){var e=l["default"].createEl("div",{className:"vjs-load-progress-spinner",innerHTML:'<svg class="circular" viewBox="25 25 50 50"> <circle class="path" cx="50" cy="50" r="'+this.options_.rayon+'" fill="none" stroke-width="2" stroke-miterlimit="10"/> </svg>'});return this.circle=l["default"].createEl("svg",{className:"circular",innerHTML:'<circle class="path" cx="50" cy="50" r="'+this.options_.rayon+'" fill="none" stroke-width="2" stroke-miterlimit="10"/>'},{viewBox:"25 25 50 50"}),e}},{key:"update",value:function(){var e=this.player_.buffered(),t=(this.player_.duration(),this.player_.bufferedEnd(),this.el_.children,this.options_.rayon,function(e,t){var n=e/t||0;return 125*(n>=1?1:n)}),n=this.getFirstChild(this.el_);if(n){var o=e.length-1,i=e.start(o),r=e.end(o),a=t(r-i,30),s=this.getFirstChild(n);if(s){var u=this.getFirstChild(s);u&&(u.style.strokeDasharray=[a,125])}}}},{key:"getFirstChild",value:function(e){for(var t=e.firstChild;null!=t&&3==t.nodeType;)t=t.nextSibling;return t}}]),t}(d);f.prototype.options_={rayon:20},c.registerComponent("LoadProgressSpinner",f),l["default"].options.children.splice(3,1,"loadProgressSpinner"),n["default"]=f,t.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],6:[function(e,t,n){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=function(e,t,n){for(var o=!0;o;){var i=e,r=t,a=n;o=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,r);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=r,n=a,o=!0,s=l=void 0}},u="undefined"!=typeof window?window.videojs:"undefined"!=typeof e?e.videojs:null,l=o(u),c=l["default"].getComponent("Component"),d=l["default"].getComponent("MouseTimeDisplay"),f=l["default"].getComponent("SeekBar"),p=function(e){function t(e,n){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n)}return r(t,e),a(t,[{key:"createLoader",value:function(e){this.destroyLoader(),this.img=new Image,this.img.onload=this.handleComplete.bind(this),this.img.onerror=this.handleError.bind(this),this.img.src=e}},{key:"handleComplete",value:function(){this.destroyLoader();l["default"].hasClass(this.fallbackImg_,"vjs-hidden")&&l["default"].removeClass(this.fallbackImg_,"vjs-hidden")}},{key:"handleError",value:function(){var e=this.destroyLoader();l["default"].log("thumbnails : next error "+e),(this.itemIndex=1)&&this.dispose()}},{key:"destroyLoader",value:function(){var e="";return this.img&&(e=this.img.src,this.img.onload=null,this.img.onerror=null,this.img=null),e}},{key:"extractAssetUri",value:function(){var e=arguments.length<=0||void 0===arguments[0]?1:arguments[0],t=this.player_.currentSrc(),n=l["default"].parseUrl(t),o=n.pathname.replace(/\/([a-z0-9\/\._-]{16}\.[is]sml?)+\/([a-z0-9\/\._-]*\.(mpd|m3u8)?)$/gi,""),i=this.options_.host||n.host,r=n.protocol+"//"+i+o+"/frames/map-{index}.jpg",a=r.replace("{index}",this.itemIndex),s=r.replace("{index}",this.itemIndex+1);return 1===this.itemIndex&&this.createLoader(a),this.itemIndex<e&&this.createLoader(s),a}},{key:"createEl",value:function(){var e=l["default"].createEl("div",{className:"vjs-thumbnail-display"});return this.fallbackImg_=l["default"].createEl("div",{className:"vjs-thumbnail-display_thumb vjs-hidden"}),e.appendChild(this.fallbackImg_),e}},{key:"update",value:function(e,n){s(Object.getPrototypeOf(t.prototype),"update",this).call(this,e,n);var o=60,i={w:600,h:330},r=5,a=5,u=i.w/r,l=i.h/a;this.player_.isFullscreen()&&(u=200,l=112);var c=r*a,d=o*c,f=Math.max(1,Math.ceil(e/d)),p=this.player_.duration(),h=1;p&&(h=Math.ceil(p/d));var y=e-(f-1)*d,v=Math.floor(y/o),g=Math.floor(v%5*u),b=Math.floor(v/a)*l;if(this.itemIndex!==f){this.itemIndex=f;var m=this.extractAssetUri(h),_='url("'+m+'")';this.fallbackImg_.style.backgroundImage=_}this.fallbackImg_.style.backgroundPositionX=-g+"px",this.fallbackImg_.style.backgroundPositionY=-b+"px"}}]),t}(d);p.prototype.itemIndex=0,p.prototype.options_={host:null},f.prototype.options_.children.splice(1,1,"mouseThumbnailDisplay"),c.registerComponent("MouseThumbnailDisplay",p),n["default"]=p,t.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(e,t,n){(function(o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=function(e,t,n){for(var o=!0;o;){var i=e,r=t,a=n;o=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,r);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=r,n=a,o=!0,s=l=void 0}},l="undefined"!=typeof window?window.videojs:"undefined"!=typeof o?o.videojs:null,c=i(l),d=e("./audio-track-menu-item"),f=i(d),p=e("./off-audio-track-menu-item"),h=(i(p),c["default"].getComponent("Component")),y=c["default"].getComponent("ControlBar"),v=c["default"].getComponent("MenuButton"),g=c["default"].getComponent("MenuItem"),b=function(e){function t(e,n){r(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n);var o=this.player_.audioTracks();if(o){var i=this.update.bind(this);o.addEventListener("removetrack",i),o.addEventListener("addtrack",i),this.player_.on("dispose",function(){o.removeEventListener("removetrack",i),o.removeEventListener("addtrack",i)})}}return a(t,e),s(t,[{key:"buildCSSClass",value:function(){return"vjs-audio-button "+u(Object.getPrototypeOf(t.prototype),"buildCSSClass",this).call(this)}},{key:"createItems",value:function(){var e=[];e.push(new g(this.player_,{label:this.controlText_,selectable:!1}));var t=this.player_.audioTracks();if(!t)return e;if(t.length<2)return this.hide(),e;for(var n=0;n<t.length;n++){var o=t[n];"main"===o.kind&&e.push(new f["default"](this.player_,{selectable:!0,track:o}))}return e}}]),t}(v);b.prototype.kind_="audio",b.prototype.controlText_="Audio Selection",y.prototype.options_.children.splice(12,0,"audioTrackButton"),h.registerComponent("AudioTrackButton",b),n["default"]=b,t.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./audio-track-menu-item":8,"./off-audio-track-menu-item":11}],8:[function(e,t,n){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=function(e,t,n){for(var o=!0;o;){var i=e,r=t,a=n;o=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,r);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=r,n=a,o=!0,s=l=void 0}},u="undefined"!=typeof window?window.videojs:"undefined"!=typeof e?e.videojs:null,l=o(u),c=l["default"].getComponent("Component"),d=l["default"].getComponent("MenuItem"),f=function(e){function t(e,n){var o=this;i(this,t);var r=n.track,a=e.audioTracks();n.label=r.label||r.language||"Unknown",n.selected=r["default"]||r.enabled===!0,s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.track=r,a&&!function(){var e=o.handleTracksChange.bind(o);a.addEventListener("change",e),o.on("dispose",function(){a.removeEventListener("change",e)})}()}return r(t,e),a(t,[{key:"handleClick",value:function(e){var n=(this.track.kind,this.player_.audioTracks());if(s(Object.getPrototypeOf(t.prototype),"handleClick",this).call(this,e),n)for(var o=0;o<n.length;o++){var i=n[o];i.enabled=i===this.track}}},{key:"handleTracksChange",value:function(){this.selected(this.track.enabled)}}]),t}(d);c.registerComponent("AudioTrackMenuItem",f),n["default"]=f,t.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(e,t,n){(function(o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=function(e,t,n){for(var o=!0;o;){var i=e,r=t,a=n;o=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,r);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=r,n=a,o=!0,s=l=void 0}},l="undefined"!=typeof window?window.videojs:"undefined"!=typeof o?o.videojs:null,c=i(l),d=e("./caption-track-menu-item"),f=i(d),p=e("./off-caption-track-menu-item"),h=i(p),y=c["default"].getComponent("Component"),v=c["default"].getComponent("ControlBar"),g=c["default"].getComponent("CaptionsButton"),b=(c["default"].getComponent("TextTrackMenuItem"),function(e){function t(e,n){r(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n)}return a(t,e),s(t,[{key:"createItems",value:function(){var e=[];e.push(new h["default"](this.player_,{kind:this.kind_,mode:"hidden"}));var t=this.player_.textTracks();if(!t)return e;for(var n=0;n<t.length;n++){var o=t[n];o.kind===this.kind_&&e.push(new f["default"](this.player_,{selectable:!0,track:o}))}return e}},{key:"buildCSSClass",value:function(){return"vjs-captions-extended-button "+u(Object.getPrototypeOf(t.prototype),"buildCSSClass",this).call(this)}}]),t}(g));b.prototype.kind_="captions",b.prototype.controlText_="Captions",v.prototype.options_.children.splice(13,1,"captionTrackButton"),y.registerComponent("CaptionTrackButton",b),n["default"]=b,t.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./caption-track-menu-item":10,"./off-caption-track-menu-item":12}],10:[function(e,t,n){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=function(e,t,n){for(var o=!0;o;){var i=e,r=t,a=n;o=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,r);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=r,n=a,o=!0,s=l=void 0}},u="undefined"!=typeof window?window.videojs:"undefined"!=typeof e?e.videojs:null,l=o(u),c=l["default"].getComponent("Component"),d=l["default"].getComponent("MenuItem"),f=function(e){function t(e,n){var o=this;i(this,t);var r=n.track,a=e.textTracks();n.label=r.label||r.language||"Unknown",n.selected=r["default"]||"showing"===r.mode,s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.track=r,a&&(a.addEventListener("change",this.handleTracksChange.bind(this)),this.on("dispose",function(){a.removeEventListener("change",this.handleTracksChange.bind(this))})),a&&void 0===a.onchange&&!function(){var e=void 0;o.on(["tap","click"],function(){if("object"!=typeof window.Event)try{e=new window.Event("change")}catch(t){}e||(e=document.createEvent("Event"),e.initEvent("change",!0,!0)),a.dispatchEvent(e)})}()}return r(t,e),a(t,[{key:"handleClick",value:function(e){var n=this.track.kind,o=this.player_.textTracks();if(s(Object.getPrototypeOf(t.prototype),"handleClick",this).call(this,e),o)for(var i=0;i<o.length;i++){var r=o[i];r.kind===n&&(r===this.track?r.mode="showing":r.mode="hidden")}}},{key:"handleTracksChange",value:function(){this.selected("showing"===this.track.mode)}}]),t}(d);c.registerComponent("CaptionTrackMenuItem",f),n["default"]=f,t.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],11:[function(e,t,n){(function(o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=function(e,t,n){for(var o=!0;o;){var i=e,r=t,a=n;o=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,r);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=r,n=a,o=!0,s=l=void 0}},l="undefined"!=typeof window?window.videojs:"undefined"!=typeof o?o.videojs:null,c=i(l),d=e("./audio-track-menu-item"),f=i(d),p=c["default"].getComponent("Component"),h=function(e){function t(e,n){r(this,t),n.track={kind:n.kind,player:e,label:n.kind+" off","default":!1,enabled:!1},n.selectable=!0,u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n)}return a(t,e),s(t,[{key:"handleTracksChange",value:function(e){for(var t=this.player().audioTracks(),n=!0,o=0,i=t.length;i>o;o++){var r=t[o];if("main"===r.kind&&r.enabled){n=!1;break}}this.selected(n)}}]),t}(f["default"]);p.registerComponent("OffAudioTrackMenuItem",h),n["default"]=h,t.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./audio-track-menu-item":8}],12:[function(e,t,n){(function(o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=function(e,t,n){for(var o=!0;o;){var i=e,r=t,a=n;o=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,r);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=r,n=a,o=!0,s=l=void 0}},l="undefined"!=typeof window?window.videojs:"undefined"!=typeof o?o.videojs:null,c=i(l),d=e("./caption-track-menu-item"),f=i(d),p=c["default"].getComponent("Component"),h=function(e){function t(e,n){r(this,t),n.track={kind:n.kind,player:e,label:n.kind+" off","default":!1,mode:"hidden"},n.selectable=!0,u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n)}return a(t,e),s(t,[{key:"handleTracksChange",value:function(e){for(var t=this.player().textTracks(),n=!0,o=0,i=t.length;i>o;o++){var r=t[o];if(r.kind===this.track.kind&&"showing"===r.mode){n=!1;break}}this.selected(n)}}]),t}(f["default"]);p.registerComponent("OffCaptionTrackMenuItem",h),n["default"]=h,t.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./caption-track-menu-item":10}],13:[function(e,t,n){(function(o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=function(e,t,n){for(var o=!0;o;){var i=e,r=t,a=n;o=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,r);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=r,n=a,o=!0,s=l=void 0}},l="undefined"!=typeof window?window.videojs:"undefined"!=typeof o?o.videojs:null,c=i(l),d=e("./video-track-menu-item"),f=i(d),p=c["default"].getComponent("Component"),h=function(e){function t(e,n){r(this,t),n.track={kind:n.kind,player:e,label:n.kind,"default":!1,selected:!0},n.selectable=!0,u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n)}return a(t,e),s(t,[{key:"handleTracksChange",value:function(e){for(var t=this.player().videoTracks(),n=!0,o=0,i=t.length;i>o;o++){var r=t[o];if("main"===r.kind&&r.selected){n=!1;break}}this.selected(n)}}]),t}(f["default"]);p.registerComponent("OffVideoTrackMenuItem",h),n["default"]=h,t.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./video-track-menu-item":15}],14:[function(e,t,n){(function(o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=function(e,t,n){for(var o=!0;o;){var i=e,r=t,a=n;o=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,r);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=r,n=a,o=!0,s=l=void 0}},l="undefined"!=typeof window?window.videojs:"undefined"!=typeof o?o.videojs:null,c=i(l),d=e("./video-track-menu-item"),f=i(d),p=e("./off-video-track-menu-item"),h=i(p),y=c["default"].getComponent("Component"),v=c["default"].getComponent("ControlBar"),g=c["default"].getComponent("MenuButton"),b=c["default"].getComponent("MenuItem"),m=function(e){
function t(e,n){r(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n);var o=this.player_.videoTracks();if(o){var i=this.update.bind(this);o.addEventListener("removetrack",i),o.addEventListener("addtrack",i),this.player_.on("dispose",function(){o.removeEventListener("removetrack",i),o.removeEventListener("addtrack",i)})}}return a(t,e),s(t,[{key:"buildCSSClass",value:function(){return"vjs-video-button "+u(Object.getPrototypeOf(t.prototype),"buildCSSClass",this).call(this)}},{key:"createItems",value:function(){var e=[];e.push(new b(this.player_,{label:"Quality",selectable:!1})),e.push(new h["default"](this.player_,{kind:"Auto"}));var t=this.player_.videoTracks();if(!t)return e;if(t.length<2)return[];for(var n=0;n<t.length;n++){var o=t[n];"main"===o.kind&&e.push(new f["default"](this.player_,{selectable:!0,track:o}))}return e}}]),t}(g);m.prototype.kind_="video",m.prototype.controlText_="Quality Selection",v.prototype.options_.children.splice(12,0,"videoTrackButton"),y.registerComponent("VideoTrackButton",m),n["default"]=m,t.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./off-video-track-menu-item":13,"./video-track-menu-item":15}],15:[function(e,t,n){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=function(e,t,n){for(var o=!0;o;){var i=e,r=t,a=n;o=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,r);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=r,n=a,o=!0,s=l=void 0}},u="undefined"!=typeof window?window.videojs:"undefined"!=typeof e?e.videojs:null,l=o(u),c=l["default"].getComponent("Component"),d=l["default"].getComponent("MenuItem"),f=function(e){function t(e,n){var o=this;i(this,t);var r=n.track,a=e.videoTracks();n.label=r.label||r.language||"Unknown",n.selected=r["default"]||r.selected===!0,s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.track=r,a&&!function(){var e=o.handleTracksChange.bind(o);a.addEventListener("change",e),o.on("dispose",function(){a.removeEventListener("change",e)})}()}return r(t,e),a(t,[{key:"handleClick",value:function(e){var n=(this.track.kind,this.player_.videoTracks());if(s(Object.getPrototypeOf(t.prototype),"handleClick",this).call(this,e),n)for(var o=0;o<n.length;o++){var i=n[o];i.selected=i===this.track}}},{key:"handleTracksChange",value:function(){this.selected(this.track.selected)}}]),t}(d);c.registerComponent("VideoTrackMenuItem",f),n["default"]=f,t.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],16:[function(e,t,n){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=function(e,t,n){for(var o=!0;o;){var i=e,r=t,a=n;o=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,r);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=r,n=a,o=!0,s=l=void 0}},u="undefined"!=typeof window?window.videojs:"undefined"!=typeof e?e.videojs:null,l=o(u),c="undefined"!=typeof window?window.dashjs:"undefined"!=typeof e?e.dashjs:null,d=l["default"].getComponent("Component"),f=l["default"].getComponent("Tech"),p=l["default"].getComponent("Html5"),h=function(e){function t(e,n){var o=this;i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n);var r=this.textTracks();r&&!function(){var e=o.handleTracksChange.bind(o);r.addEventListener("change",e),o.on("dispose",function(){r.removeEventListener("change",e)})}();var a=this.audioTracks();a&&!function(){var e=o.handleAudioTracksChange.bind(o);a.addEventListener("change",e),o.on("dispose",function(){a.removeEventListener("change",e)})}();var u=this.videoTracks();u&&!function(){var e=o.handleVideoTracksChange.bind(o);u.addEventListener("change",e),o.on("dispose",function(){u.removeEventListener("change",e)})}()}return r(t,e),a(t,[{key:"isDynamic",value:function(e){return void 0!==e?this.isDynamic_=e:this.isDynamic_}},{key:"duration",value:function n(){var n=s(Object.getPrototypeOf(t.prototype),"duration",this).call(this);return this.isDynamic()?1/0:n}},{key:"setCurrentTime",value:function(e){this.playbackInitialized&&this.mediaPlayer_&&this.mediaPlayer_.setQualityFor("video",0),s(Object.getPrototypeOf(t.prototype),"setCurrentTime",this).call(this,e)}},{key:"src",value:function(e){return e?(this.isReady_=!1,this.featuresNativeTextTracks=t.supportsNativeTextTracks(),this.featuresNativeAudioTracks=t.supportsNativeAudioTracks(),this.featuresNativeVideoTracks=t.supportsNativeVideoTracks(),this.keySystemOptions_=this.buildDashJSProtData(this.options_.protData),this.context_=this.context_||{},this.mediaPlayer_||(this.mediaPlayer_=(0,c.MediaPlayer)(this.context_).create(),this.mediaPlayer_.initialize()),this.mediaPlayer_.on(c.MediaPlayer.events.STREAM_INITIALIZED,this.onInitialized.bind(this)),this.mediaPlayer_.on(c.MediaPlayer.events.TEXT_TRACKS_ADDED,this.onTextTracksAdded.bind(this)),this.mediaPlayer_.on(c.MediaPlayer.events.METRIC_CHANGED,this.onMetricChanged.bind(this)),this.mediaPlayer_.on(c.MediaPlayer.events.PLAYBACK_PROGRESS,this.onProgress.bind(this)),this.player_.options().autoplay||this.mediaPlayer_.setAutoPlay(!1),this.mediaPlayer_.setInitialMediaSettingsFor("audio",this.options_.inititalMediaSettings),this.mediaPlayer_.setInitialMediaSettingsFor("video",this.options_.inititalMediaSettings),this.mediaPlayer_.setTrackSwitchModeFor("audio","neverReplace"),this.mediaPlayer_.setTrackSwitchModeFor("video","neverReplace"),this.mediaPlayer_.setScheduleWhilePaused(this.options_.scheduleWhilePaused),this.mediaPlayer_.setAutoSwitchQuality(this.options_.autoSwitch),this.mediaPlayer_.enableBufferOccupancyABR(this.options_.bolaEnabled),this.mediaPlayer_.setLiveDelayFragmentCount(this.options_.liveFragmentCount),this.mediaPlayer_.setInitialBitrateFor("video",this.options_.initialBitrate),this.mediaPlayer_.setBufferToKeep(this.options_.buffer.bufferToKeep),this.mediaPlayer_.setBufferPruningInterval(this.options_.buffer.bufferPruningInterval),this.mediaPlayer_.setStableBufferTime(this.options_.buffer.minBufferTime),this.mediaPlayer_.setBufferTimeAtTopQuality(this.options_.buffer.bufferTimeAtTopQuality),this.mediaPlayer_.setBufferTimeAtTopQualityLongForm(this.options_.buffer.bufferTimeAtTopQualityLongForm),this.mediaPlayer_.setLongFormContentDurationThreshold(this.options_.buffer.longFormContentDurationThreshold),this.mediaPlayer_.setRichBufferThreshold(this.options_.buffer.longFormContentDurationThreshold),this.mediaPlayer_.setBandwidthSafetyFactor(this.options_.buffer.bandwidthSafetyFactor),this.mediaPlayer_.setAbandonLoadTimeout(this.options_.buffer.abandonLoadTimeout),this.mediaPlayer_.setFragmentLoaderRetryAttempts(this.options_.buffer.fragmentLoaderRetryAttempts),this.mediaPlayer_.setFragmentLoaderRetryInterval(this.options_.buffer.fragmentLoaderRetryInterval),this.player_.trigger("loadstart"),this.mediaPlayer_.attachView(this.el_),this.mediaPlayer_.setProtectionData(this.keySystemOptions_),this.mediaPlayer_.attachSource(e),void this.triggerReady()):this.el_.src}},{key:"onInitialized",value:function(e,n){var o=e.streamInfo.manifestInfo.isDynamic,i=void 0===o?!1:o;if(!this.playbackInitialized){this.playbackInitialized=!0,n&&this.player_.error(n),this.isDynamic(i),this.trigger(c.MediaPlayer.events.STREAM_INITIALIZED);var r=(this.mediaPlayer_.getBitrateInfoListFor("video"),this.mediaPlayer_.getTracksFor("audio")),a=this.mediaPlayer_.getTracksFor("video"),s=this.mediaPlayer_.getAutoSwitchQuality(),u=this.mediaPlayer_.getInitialMediaSettingsFor("audio"),l=(this.mediaPlayer_.getInitialMediaSettingsFor("video"),this.mediaPlayer_.getInitialBitrateFor("video")),d=void 0;for(d=0;d<r.length;d++){var f=r[d];f.label=f.label||f.lang;var p=this.addAudioTrack("main",f.label,f.lang);p.enabled=p.language===(u&&this.options_.inititalMediaSettings.lang===u.lang&&u.lang||this.options_.inititalMediaSettings.lang)}for(d=0;d<a.length;d++)for(var f=a[d],h=f.bitrateList,y=0;y<h.length;y++){var v=h[y]/1e3,g=t.qualityLabels[y]||v,b=this.addVideoTrack("main",g,v);b.selected=!s&&l===v}}}},{key:"onProgress",value:function(e){this.trigger("progress")}},{key:"onMetricChanged",value:function(e){if("video"===e.mediaType||"audio"===e.mediaType||"p2pweb"===e.mediaType){var t=this.getCribbedMetricsFor(e.mediaType);if(t){this.metrics_[e.mediaType]=l["default"].mergeOptions(this.metrics_[e.mediaType],t);({type:c.MediaPlayer.events.METRIC_CHANGED,mediaType:e.mediaType});this.trigger(e)}}}},{key:"getCribbedMetricsFor",value:function(e){var t=this.mediaPlayer_.getMetricsFor(e),n=this.mediaPlayer_.getDashMetrics(),o=void 0,i=void 0,r=void 0,a=void 0,s=void 0,u=void 0,l=void 0,c=void 0,d=0,f={},p={},h={},y=0,v=void 0,g=function(e,t){var n,o,i,r;n=t.slice(-20).filter(function(t){return t.responsecode>=200&&t.responsecode<300&&!!t._mediaduration&&"MediaSegment"===t.type&&t._stream===e}).slice(-4),n.length>0&&(i=n.map(function(e){return Math.abs(e.tresponse.getTime()-e.trequest.getTime())/1e3}),f[e]={average:i.reduce(function(e,t){return e+t})/i.length,high:i.reduce(function(e,t){return t>e?t:e}),low:i.reduce(function(e,t){return t>e?e:t}),count:i.length},o=n.map(function(e){return Math.abs(e._tfinish.getTime()-e.tresponse.getTime())/1e3}),p[e]={average:o.reduce(function(e,t){return e+t})/o.length,high:o.reduce(function(e,t){return t>e?t:e}),low:o.reduce(function(e,t){return t>e?e:t}),count:o.length},r=n.map(function(e){return e._mediaduration}),h[e]={average:r.reduce(function(e,t){return e+t})/o.length/p[e].average,high:r.reduce(function(e,t){return t>e?t:e})/p[e].low,low:r.reduce(function(e,t){return t>e?e:t})/p[e].high,count:r.length})};if(t&&n){o=n.getCurrentRepresentationSwitch(t),i=n.getCurrentBufferLevel(t),r=n.getHttpRequests(t),a=n.getCurrentDroppedFrames(t),v=n.getRequestsQueue(t),g("video",r),g("audio",r);var b=this.streamInfo?this.streamInfo.index:0;return null!==o&&(s=n.getIndexForRepresentation(o.to,b),u=n.getBandwidthForRepresentation(o.to,b),u/=1e3,u=Math.round(u)),c=n.getMaxIndexForBufferType(e,b),null!==i&&(d=i.toPrecision(5)),null!==a&&(y=a.droppedFrames),(isNaN(u)||void 0===u)&&(u=0),(isNaN(s)||void 0===s)&&(s=0),(isNaN(c)||void 0===c)&&(c=0),(isNaN(d)||void 0===d)&&(d=0),l=this.mediaPlayer_.getQualityFor(e),{bandwidth:u,bitrateIndex:s+1,pendingIndex:l!==s?"(-> "+(l+1)+")":"",numBitrates:c,bufferLength:d,droppedFrames:y,movingLatency:f,movingDownload:p,movingRatio:h,requestsQueue:v}}return null}},{key:"buildDashJSProtData",value:function(e){var t={};return e?(Object.keys(e).forEach(function(e,t){t.licenseUrl&&(t.laURL=t.licenseUrl,delete t.licenseUrl)}),e):t}},{key:"onTextTracksAdded",value:function(e){var t=e.tracks;if(t)for(var n,o,i=this.textTracks(),r=t.length,a=0;r>a;a++)n=t[a],n.label=n.label||n.lang,o=i[a],n.defaultTrack="fra"===n.lang||"fr"===n.lang,n.defaultTrack&&(this.mediaPlayer_.setTextTrack(a),o&&(o.mode="showing"))}},{key:"handleTracksChange",value:function(){var e=this.textTracks();if(e&&this.playbackInitialized){for(var t=void 0,n=0;n<e.length;n++){var o=e[n];"showing"===o.mode&&(t=!0,this.mediaPlayer_.setTextTrack(n))}t||this.mediaPlayer_.setTextTrack(-1)}}},{key:"handleAudioTracksChange",value:function(){var e=this.audioTracks();if(e&&this.playbackInitialized)for(var t=this.mediaPlayer_.getTracksFor("audio"),n=0;n<e.length;n++){var o=e[n];if(o.enabled){var i=t[n];if(o.language==i.lang){t.enabled=!0;try{this.mediaPlayer_.setCurrentTrack(t[n])}catch(r){l["default"].log(r)}}}}}},{key:"handleVideoTracksChange",value:function(){var e=this.videoTracks();if(e&&this.playbackInitialized&&this.options_.autoSwitch){var t=null!==e.selectedIndex&&!isNaN(e.selectedIndex)&&e.selectedIndex%1===0;this.mediaPlayer_.setAutoSwitchQuality(!t),t&&this.mediaPlayer_.setQualityFor("video",e.selectedIndex)}}},{key:"afterMediaKeysReset",value:function(e){this.showErrors(),this.mediaPlayer_.setProtectionData(this.keySystemOptions_),this.mediaPlayer_.attachSource(e),this.triggerReady()}},{key:"showErrors",value:function(){var e=this;this.setTimeout(function(){e.player_.removeClass("vjs-dashjs-hide-errors")},250)}},{key:"dispose",value:function(){this.mediaPlayer_&&this.mediaPlayer_.reset(),s(Object.getPrototypeOf(t.prototype),"dispose",this).call(this,this)}}]),t}(p);h.prototype.isDynamic_=!1,h.prototype.options_={inititalMediaSettings:{lang:"fr"},autoSwitch:!0,bolaEnabled:!0,scheduleWhilePaused:!1,initialBitrate:400,liveFragmentCount:4,buffer:{bufferToKeep:30,minBufferTime:12,bufferPruningInterval:30,bandwidthSafetyFactor:.9,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,longFormContentDurationThreshold:600,richBufferThreshold:20,abandonLoadTimeout:10,fragmentLoaderRetryAttempts:3,fragmentLoaderRetryInterval:1e3},protData:{}},h.isSupported=function(){return p.isSupported()&&!!window.MediaSource},f.withSourceHandlers(h),h.nativeSourceHandler={},h.prototype.featuresNativeTextTracks=!1,h.prototype.featuresNativeAudioTracks=!1,h.prototype.featuresNativeVideoTracks=!1,h.supportsNativeTextTracks=function(){var e;return e=!!p.TEST_VID.textTracks,e&&p.TEST_VID.textTracks.length>0&&(e="number"!=typeof p.TEST_VID.textTracks[0].mode),!e||"onremovetrack"in p.TEST_VID.textTracks||(e=!1),e},h.supportsNativeVideoTracks=function(){var e=!!p.TEST_VID.videoTracks;return e},h.supportsNativeAudioTracks=function(){var e=!!p.TEST_VID.audioTracks;return e},h.nativeSourceHandler.canPlayType=function(e){var t=/^application\/dash\+xml/i,n=/\.mpd/i;return t.test(e)?"probably":n.test(e)?"maybe":""},h.nativeSourceHandler.canHandleSource=function(e){return e.type?h.nativeSourceHandler.canPlayType(e.type):e.src?h.nativeSourceHandler.canPlayType(e.src):""},h.qualityLabels=["bas","moyen","normal","HD"],h.nativeSourceHandler.handleSource=function(e,t){t.src(e.src)},h.nativeSourceHandler.dispose=function(){},h.registerSourceHandler(h.nativeSourceHandler),l["default"].options.dash={},d.registerComponent("Dash",h),f.registerTech("Dash",h),n["default"]=h,t.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],17:[function(e,t,n){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=function(e,t,n){for(var o=!0;o;){var i=e,r=t,a=n;o=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,r);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=r,n=a,o=!0,s=l=void 0}},u="undefined"!=typeof window?window.videojs:"undefined"!=typeof e?e.videojs:null,l=o(u),c="undefined"!=typeof window?window.dashjs:"undefined"!=typeof e?e.dashjs:null,d=l["default"].getComponent("Component"),f=l["default"].getComponent("Tech"),p=l["default"].getComponent("Flash"),h=function(e){function t(e,n){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),window.videojs=window.videojs||{},window.videojs.Dashas=window.videojs.Dashas||{},window.videojs.Dashas.onReady=p.onReady,window.videojs.Dashas.onEvent=p.onEvent,window.videojs.Dashas.onError=p.onError,this.metricsInterval=this.setInterval(this.detectBandwithChange,5e3),this.one("loadedmetadata",this.onInitialized.bind(this));var o=this.audioTracks(),r=this.handleAudioTracksChange.bind(this);o.addEventListener("change",r),this.on("dispose",function(){o.removeEventListener("change",r)})}return r(t,e),a(t,[{key:"createEl",value:function(){var e=this.options_,n=t.buildMetadataUrl(e),o=t.buildOptData(e);return e.flashVars=l["default"].mergeOptions({metadataUrl:encodeURIComponent(n),authenticationToken:encodeURIComponent(o),language:"fr",spinner:!1,watermark:!1,muted:this.player_.options_.muted,debug:!0,quality:"autolow",maxBufferLength:8},e.flashVars||{}),s(Object.getPrototypeOf(t.prototype),"createEl",this).call(this)}},{key:"onInitialized",value:function(){var e=this.getPlaybackStatistics();e&&(this.metrics_=l["default"].mergeOptions(this.metrics_,e),this.addAudioTracks())}},{key:"handleAudioTracksChange",value:function(){var e=this.audioTracks();if(e)for(var t=0;t<e.length;t++){var n=e[t];if(n.enabled)try{this.el_.vjs_setProperty("forcedAudioLang",t)}catch(o){l["default"].log(o)}}}},{key:"addAudioTracks",value:function(){var e=this.el_.vjs_getProperty("audioTracks");if(e)for(var t=0;t<e.length;t++){var n=e[t];"string"==typeof n&&(n={label:n,lang:n});var o=this.addAudioTrack("main",n.label,n.lang);o.enabled="fra"===o.language||"fr"===o.language}}},{key:"detectBandwithChange",value:function(){var e=this.getPlaybackStatistics(),t=void 0;if(e){switch(!0){case e.video.bandwidth!==this.metrics_.video.bandwidth:this.metrics_.video.bandwidth=e.video.bandwidth,t="video";break;case e.audio.bandwidth!==this.metrics_.audio.bandwidth:this.metrics_.audio.bandwidth=e.audio.bandwidth,t="audio"}if(t){var n={type:c.MediaPlayer.events.METRIC_CHANGED,mediaType:t};this.trigger(n)}}}},{key:"subtitleTracks",value:function(){return this.textTracks()}},{key:"setSubsTrack",value:function(e){this.setTextTrack(e)}},{key:"getDroppedFrames",value:function(){return this.el_.vjs_getProperty("droppedFrames")}},{key:"getBuffered",value:function(){return this.el_.vjs_getProperty("buffered")}},{key:"getBufferLevel",value:function(){return this.el_.vjs_getProperty("bufferLevel")}},{key:"getCurrentAudioBandwidth",value:function(){return this.el_.vjs_getProperty("currentAudioBandwidth")}},{key:"getCurrentVideoBandwidth",value:function(){return this.el_.vjs_getProperty("currentVideoBandwidth")}},{key:"audioTracks",value:function(){return f.prototype.audioTracks.call(this)}},{key:"poster",value:function(){return""}},{key:"getPlaybackStatistics",value:function(){var e=this.getBuffered(),t=(this.getBufferLevel(),this.getDroppedFrames()),n=this.getCurrentVideoBandwidth(),o=this.getCurrentAudioBandwidth(),i={bandwidth:n/1e3,bufferLength:e,droppedFrames:t},r={bandwidth:o/1e3,bufferLength:e};return l["default"].mergeOptions(this.metrics_,{video:i,audio:r})}},{key:"src",value:function(e){if(!e)return this.currentSrc();var n=this.options_,o=this.player_.autoplay(),i=t.buildMetadataUrl(n),r=t.buildOptData(n);this.el_.vjs_source(e,o,i,r)}},{key:"currentTime",value:function(){return this.el_.vjs_getProperty("currentTime")}},{key:"buffered",value:function(){return this.el_.vjs_getProperty("buffered")}}]),t}(p);h.extractAssetId=function(e){var t=/^(.*\/)?(?:$|(.+?)(?:(\.[^.]*$)|$))/,n=e.match(t),o=n[2];return o},h.getDRMData=function(e){var t=e.protData["com.adobe.flashaccess"],n=e.source?h.extractAssetId(e.source.src):"",o=t.httpRequestHeaders?t.httpRequestHeaders.customData||{}:{},i=t.serverURL?t.serverURL||"":"";return e.source&&!e.source.drm&&(i=o=n=""),{customData:o,serverUrl:i,assetId:n,variantId:""}},h.buildMetadataUrl=function(e){var t=h.getDRMData(e),n=t.serverUrl;return t.customData&&(n+="?optData="+t.customData),t.assetId&&(n+="&assetId="+t.assetId),t.variantId&&(n+="&variantId="+t.variantId),n},h.buildOptData=function(e){return h.getDRMData(e).customData},h.prototype.options_={customData:{},protData:{"com.widevine.alpha":{},"com.microsoft.playready":{},"com.adobe.flashaccess":{},"org.w3.clearkey":{}}},h.isSupported=function(){return p.isSupported()&&p.version()[0]>=14},f.withSourceHandlers(h),h.nativeSourceHandler={},h.nativeSourceHandler.canPlayType=function(e){var t=/^application\/dash\+xml/i,n=/\.mpd/i;return t.test(e)?"probably":n.test(e)?"maybe":""},h.nativeSourceHandler.canHandleSource=function(e){return e.type?h.nativeSourceHandler.canPlayType(e.type):e.src?h.nativeSourceHandler.canPlayType(e.src):""},h.nativeSourceHandler.handleSource=function(e,t){t.src(e.src)},h.nativeSourceHandler.dispose=function(){},h.registerSourceHandler(h.nativeSourceHandler),l["default"].options.dashas={},d.registerComponent("Dashas",h),f.registerTech("Dashas",h),HTMLObjectElement.prototype.vjs_getProperty=function(e){},HTMLObjectElement.prototype.vjs_setProperty=function(e,t){},HTMLObjectElement.prototype.vjs_play=function(){},HTMLObjectElement.prototype.vjs_pause=function(){},HTMLObjectElement.prototype.vjs_load=function(){},HTMLObjectElement.prototype.vjs_src=function(e){},n["default"]=h,t.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],18:[function(e,t,n){(function(o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=function(e,t,n){for(var o=!0;o;){var i=e,r=t,a=n;o=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,r);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=r,n=a,o=!0,s=l=void 0}},l="undefined"!=typeof window?window.videojs:"undefined"!=typeof o?o.videojs:null,c=i(l),d=e("./dash"),f=i(d),p=("undefined"!=typeof window?window.dashjs:"undefined"!=typeof o?o.dashjs:null,c["default"].getComponent("Component")),h=c["default"].getComponent("Tech"),y=(c["default"].getComponent("Html5"),function(e){function t(e,n){r(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n)}return a(t,e),s(t,[{key:"src",value:function(e){return e?(this.mediaPlayer_=new DashEB.MediaPlayer(this.el_,e,!0),void u(Object.getPrototypeOf(t.prototype),"src",this).call(this,e)):this.el_.src}},{key:"getCribbedMetricsFor",value:function(e){if("p2pweb"!==e)return u(Object.getPrototypeOf(t.prototype),"getCribbedMetricsFor",this).call(this,e);var n=this.mediaPlayer_.getMetricsFor(e);return n?n.metricsP2PWeb:null}},{key:"onMetricChanged",value:function(e){if("video"===e.mediaType||"audio"===e.mediaType){var n="p2pweb",o=this.getCribbedMetricsFor(n);o&&(this.metrics_[n]=c["default"].mergeOptions(this.metrics_[n],o)),u(Object.getPrototypeOf(t.prototype),"onMetricChanged",this).call(this,e)}}},{key:"afterMediaKeysReset",value:function(e){u(Object.getPrototypeOf(t.prototype),"afterMediaKeysReset",this).call(this,e)}}]),t}(f["default"]));y.isSupported=function(){return f["default"].isSupported()&&!c["default"].browser.IS_ANDROID},h.withSourceHandlers(y),y.nativeSourceHandler=f["default"].nativeSourceHandler,y.supportsNativeTextTracks=f["default"].supportsNativeTextTracks,y.supportsNativeVideoTracks=f["default"].supportsNativeVideoTracks,y.supportsNativeAudioTracks=f["default"].supportsNativeAudioTracks,c["default"].options.easybroadcast={},p.registerComponent("EasyBroadcast",y),h.registerTech("EasyBroadcast",y),n["default"]=y,t.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./dash":16}],19:[function(e,t,n){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n="undefined"!=typeof window?window.videojs:"undefined"!=typeof e?e.videojs:null,o=t(n),i=o["default"].getComponent("MediaTechController"),r=o["default"].getComponent("AudioTrack"),a=o["default"].getComponent("VideoTrack");i.METRICS_DATA={bandwidth:-1,bitrateIndex:0,pendingIndex:"",numBitrates:0,bufferLength:0,droppedFrames:0,movingLatency:0,movingDownload:0,movingRatio:0,requestsQueue:0},i.prototype.metrics_={video:o["default"].mergeOptions({bandwidth:-1},i.METRICS_DATA),audio:o["default"].mergeOptions({bandwidth:-1},i.METRICS_DATA),p2pweb:{chunksFromCDN:0,chunksFromP2P:0,chunksSent:0,bufferLength:-1,swarmSize:-1,p2pRatio:-1,startupTime:-1}},i.prototype.getPlaybackStatistics=function(){return this.metrics_},i.prototype.getCribbedMetricsFor=function(e){return this.metrics_[e]},i.prototype.addAudioTrack=function(e,t,n){var o=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];if(!e)throw new Error("AudioTrack kind is required but was not provided");var i=this.audioTracks();o.kind=e,t&&(o.label=t),n&&(o.language=n),o.tech=self;var a=new r(o);return i.addTrack_(a),a},i.prototype.addVideoTrack=function(e,t,n){var o=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];if(!e)throw new Error("VideoTrack kind is required but was not provided");var i=this.videoTracks();o.kind=e,t&&(o.label=t),n&&(o.language=n),o.tech=self;var r=new a(o);return i.addTrack_(r),r}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],20:[function(e,t,n){},{}],21:[function(e,t,n){(function(n){var o="undefined"!=typeof n?n:"undefined"!=typeof window?window:{},i=e("min-document");if("undefined"!=typeof document)t.exports=document;else{var r=o["__GLOBAL_DOCUMENT_CACHE@4"];r||(r=o["__GLOBAL_DOCUMENT_CACHE@4"]=i),t.exports=r}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":20}],22:[function(e,t,n){(function(e){"undefined"!=typeof window?t.exports=window:"undefined"!=typeof e?t.exports=e:"undefined"!=typeof self?t.exports=self:t.exports={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],23:[function(e,t,n){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=function(e,t,n){for(var o=!0;o;){var i=e,r=t,a=n;o=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,r);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=r,n=a,o=!0,s=l=void 0}},u="undefined"!=typeof window?window.videojs:"undefined"!=typeof e?e.videojs:null,l=o(u),c=l["default"].getComponent("Component"),d=l["default"].getComponent("ControlBar"),f=l["default"].getComponent("Button"),p=function(e){function t(e,n){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.hide(),this.initializeApi(),e.chromecast=this}return r(t,e),a(t,[{key:"initializeApi",value:function(){var e=void 0,t=void 0,n=void 0;return l["default"].browser.IS_CHROME&&!l["default"].browser.IS_EDGE?chrome.cast&&chrome.cast.isAvailable?(l["default"].log("Cast APIs are available"),t=this.options_.appId||chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID,n=new chrome.cast.SessionRequest(t),e=new chrome.cast.ApiConfig(n,this.sessionJoinedListener.bind(this),this.receiverListener.bind(this)),chrome.cast.initialize(e,this.onInitSuccess.bind(this),this.castError.bind(this))):(l["default"].log("Cast APIs not available"),this.tryingReconnect<10&&(this.setTimeout(this.initializeApi,1e3),++this.tryingReconnect),void l["default"].log("Cast APIs not available. Max reconnect attempt")):void 0}},{key:"castError",value:function(e){var t={code:e.code,message:e.description};switch(e.code){case chrome.cast.ErrorCode.API_NOT_INITIALIZED:case chrome.cast.ErrorCode.EXTENSION_MISSING:case chrome.cast.ErrorCode.EXTENSION_NOT_COMPATIBLE:case chrome.cast.ErrorCode.INVALID_PARAMETER:case chrome.cast.ErrorCode.LOAD_MEDIA_FAILED:case chrome.cast.ErrorCode.RECEIVER_UNAVAILABLE:case chrome.cast.ErrorCode.SESSION_ERROR:case chrome.cast.ErrorCode.CHANNEL_ERROR:case chrome.cast.ErrorCode.TIMEOUT:this.addClass("error");break;case chrome.cast.ErrorCode.CANCEL:break;default:this.player_.error(t)}return l["default"].log("Cast Error: "+JSON.stringify(e))}},{key:"onInitSuccess",value:function(){return this.apiInitialized=!0}},{key:"sessionJoinedListener",value:function(e){return e.media.length&&(this.apiSession=e,this.onMediaDiscovered(e.media[0])),console.log("Session joined")}},{key:"receiverListener",value:function(e){return"available"===e?this.show():void 0}},{key:"doLaunch",value:function(){return l["default"].log("Cast video: "+this.player_.cache_.src),this.apiInitialized?chrome.cast.requestSession(this.onSessionSuccess.bind(this),this.castError.bind(this)):l["default"].log("Session not initialized")}},{key:"onSessionSuccess",value:function(e){var t=void 0,n=void 0,o=void 0,i=void 0,r=void 0,a=void 0;this.apiSession=e;var s=this.player_.cache_.src,u=this.player_.currentType();if(l["default"].log("Session initialized: "+e.sessionId+" source : "+s+" type : "+u),i=new chrome.cast.media.MediaInfo(s,u),i.metadata=new chrome.cast.media.GenericMediaMetadata,this.options_.metadata){r=this.options_.metadata;for(n in r)a=r[n],i.metadata[n]=a}var c=this.player().poster();c&&(t=new chrome.cast.Image(c),i.metadata.images=[t]);var d=this.player().textTracks(),f=this.player().remoteTextTrackEls(),p=[],h=0,y=void 0,v=void 0,g=0,b=void 0;
if(d){for(h=0;h<d.length;h++)v=d.tracks_[h],y=f&&f.trackElements_&&f.trackElements_[h],g++,b=new chrome.cast.media.Track(g,chrome.cast.media.TrackType.TEXT),b.trackContentId=y?y.src:"caption_"+v.language,b.subtype=chrome.cast.media.TextTrackType.CAPTIONS,b.name=v.label,b.language=v.language,b.customData=null,p.push(b);i.textTrackStyle=new chrome.cast.media.TextTrackStyle,i.textTrackStyle.foregroundColor="#FFFFFF",i.textTrackStyle.backgroundColor="#00000060",i.textTrackStyle.edgeType=chrome.cast.media.TextTrackEdgeType.DROP_SHADOW,i.textTrackStyle.windowType=chrome.cast.media.TextTrackWindowType.ROUNDED_CORNERS}try{if(d=this.player().audioTracks())for(h=0;h<d.length;h++)v=d.tracks_[h],g++,b=new chrome.cast.media.Track(g,chrome.cast.media.TrackType.AUDIO),b.subtype=null,b.name=v.label,b.language=v.language,b.customData=null,p.push(b)}catch(m){l["default"].log("get player audioTracks fail"+m)}p.length&&(i.tracks=p),o=new chrome.cast.media.LoadRequest(i),o.autoplay=!0,o.currentTime=this.player_.currentTime(),this.apiSession.loadMedia(o,this.onMediaDiscovered.bind(this),this.castError.bind(this)),this.apiSession.addUpdateListener(this.onSessionUpdate.bind(this))}},{key:"onMediaDiscovered",value:function(e){this.player_.loadTech_("Chromecast",{type:"cast",apiMedia:e,apiSession:this.apiSession}),this.casting=!0,this.inactivityTimeout=this.player_.options_.inactivityTimeout,this.player_.options_.inactivityTimeout=0,this.player_.userActive(!0),this.addClass("connected"),this.removeClass("error")}},{key:"onSessionUpdate",value:function(e){return this.player_.apiMedia?e?void 0:this.onStopAppSuccess():void 0}},{key:"stopCasting",value:function(){return this.apiSession.stop(this.onStopAppSuccess.bind(this),this.castError.bind(this))}},{key:"onStopAppSuccess",value:function(){this.casting=!1;var e=this.player_.currentTime();return this.removeClass("connected"),this.player_.src(this.player_.options_.sources),this.player_.paused()||this.player_.one("seeked",function(){return this.player_.play()}),this.player_.currentTime(e),this.player_.options_.inactivityTimeout=this.inactivityTimeout,this.apiSession=null}},{key:"buildCSSClass",value:function(){return"vjs-chromecast-button "+s(Object.getPrototypeOf(t.prototype),"buildCSSClass",this).call(this)}},{key:"handleClick",value:function(){return s(Object.getPrototypeOf(t.prototype),"handleClick",this).call(this),this.casting?this.stopCasting():this.doLaunch()}}]),t}(f);p.prototype.tryingReconnect=0,p.prototype.inactivityTimeout=2e3,p.prototype.controlText_="Chromecast",d.prototype.options_.children.splice(d.prototype.options_.children.length-1,0,"chromeCastButton"),c.registerComponent("ChromeCastButton",p),n["default"]=p,t.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],24:[function(e,t,n){(function(o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r="undefined"!=typeof window?window.videojs:"undefined"!=typeof o?o.videojs:null,a=i(r),s=e("./videojs-chromecast"),u=i(s),l=function(e){(0,u["default"])(this,e)};a["default"].plugin("chromecast",l),n["default"]=l,t.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./videojs-chromecast":26}],25:[function(e,t,n){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=function(e,t,n){for(var o=!0;o;){var i=e,r=t,a=n;o=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,r);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=r,n=a,o=!0,s=l=void 0}},u="undefined"!=typeof window?window.videojs:"undefined"!=typeof e?e.videojs:null,l=o(u),c=l["default"].getComponent("Component"),d=l["default"].getComponent("Tech"),f=function(e){function t(e,n){var o=this;i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.apiMedia=this.options_.source.apiMedia,this.apiSession=this.options_.source.apiSession,this.receiver=this.apiSession.receiver.friendlyName,this.apiMedia.addUpdateListener(this.onMediaStatusUpdate.bind(this)),this.apiSession.addUpdateListener(this.onSessionUpdate.bind(this));var r=this.textTracks();r&&!function(){var e=o.handleTextTracksChange.bind(o);r.addEventListener("change",e),o.on("dispose",function(){r.removeEventListener("change",e)}),o.handleTextTracksChange()}();try{r=this.audioTracks(),r&&!function(){var e=o.handleAudioTracksChange.bind(o);r.addEventListener("change",e),o.on("dispose",function(){r.removeEventListener("change",e)})}()}catch(a){l["default"].log("get player audioTracks fail"+a)}try{r=this.videoTracks(),r&&!function(){var e=o.handleVideoTracksChange.bind(o);r.addEventListener("change",e),o.on("dispose",function(){r.removeEventListener("change",e)})}()}catch(a){l["default"].log("get player videoTracks fail"+a)}this.update(),this.triggerReady()}return r(t,e),a(t,[{key:"createEl",value:function(){var e=l["default"].createEl("div",{id:this.options_.techId,className:"vjs-tech vjs-tech-chromecast"});return e}},{key:"update",value:function(){this.el_.innerHTML='<div class="casting-image" style="background-image: url(\''+this.options_.poster+'\')"></div><div class="casting-overlay"><div class="casting-information"><div class="casting-icon"></div><div class="casting-description"><small>'+this.localize("CASTING TO")+"</small><br>"+this.receiver+"</div></div></div>"}},{key:"onSessionUpdate",value:function(e){return this.apiMedia?e?void 0:this.onStopAppSuccess():void 0}},{key:"onStopAppSuccess",value:function(){this.stopTrackingCurrentTime(),this.apiMedia=null}},{key:"onMediaStatusUpdate",value:function(){if(this.apiMedia)switch(this.apiMedia.playerState){case chrome.cast.media.PlayerState.BUFFERING:this.trigger("waiting");break;case chrome.cast.media.PlayerState.IDLE:this.trigger("timeupdate");break;case chrome.cast.media.PlayerState.PAUSED:this.trigger("pause"),this.paused_=!0;break;case chrome.cast.media.PlayerState.PLAYING:this.trigger("playing"),this.trigger("play"),this.paused_=!1}}},{key:"src",value:function(e){}},{key:"currentSrc",value:function(){return this.apiMedia?this.apiMedia.media.contentId:void 0}},{key:"handleAudioTracksChange",value:function(){var e=[],t=this.textTracks(),n=this.audioTracks();if(n){for(var o=0;o<n.length;o++){var i=n[o];i.enabled&&e.push(o+1+t.length)}return this.apiMedia&&e.length?(this.tracksInfoRequest=new chrome.cast.media.EditTracksInfoRequest(e),this.apiMedia.editTracksInfo(this.tracksInfoRequest,this.onTrackSuccess.bind(this),this.onTrackError.bind(this))):void 0}}},{key:"handleVideoTracksChange",value:function(){}},{key:"handleTextTracksChange",value:function(){var e=[],t=this.textTracks();if(t){for(var n=0;n<t.length;n++){var o=t[n];"showing"===o.mode&&e.push(n+1)}return this.apiMedia&&e.length?(this.tracksInfoRequest=new chrome.cast.media.EditTracksInfoRequest(e),this.apiMedia.editTracksInfo(this.tracksInfoRequest,this.onTrackSuccess.bind(this),this.onTrackError.bind(this))):void 0}}},{key:"onTrackSuccess",value:function(){return l["default"].log("track added")}},{key:"onTrackError",value:function(e){return l["default"].log("Cast track Error: "+JSON.stringify(e))}},{key:"castError",value:function(e){return l["default"].log("Cast Error: "+JSON.stringify(e))}},{key:"play",value:function(){return this.apiMedia?(this.paused_&&this.apiMedia.play(null,this.mediaCommandSuccessCallback.bind(this,"Playing: "+this.apiMedia.sessionId),this.castError.bind(this)),this.paused_=!1):void 0}},{key:"pause",value:function(){return this.apiMedia?this.paused_?void 0:(this.apiMedia.pause(null,this.mediaCommandSuccessCallback.bind(this,"Paused: "+this.apiMedia.sessionId),this.castError.bind(this)),this.paused_=!0):void 0}},{key:"paused",value:function(){return this.paused_}},{key:"currentTime",value:function(){return this.apiMedia?this.apiMedia.getEstimatedTime():0}},{key:"setCurrentTime",value:function(e){if(!this.apiMedia)return 0;var t=void 0;return t=new chrome.cast.media.SeekRequest,t.currentTime=e,this.apiMedia.seek(t,this.onSeekSuccess.bind(this,e),this.castError.bind(this))}},{key:"onSeekSuccess",value:function(e){l["default"].log("seek success"+e)}},{key:"volume",value:function(){return this.volume_}},{key:"duration",value:function(){return this.apiMedia?this.apiMedia.media.duration||1/0:0}},{key:"controls",value:function(){return!1}},{key:"setVolume",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],n=void 0,o=void 0;return this.apiMedia?(o=new chrome.cast.Volume,o.level=e,o.muted=t,this.volume_=o.level,this.muted_=t,n=new chrome.cast.media.VolumeRequest,n.volume=o,this.apiMedia.setVolume(n,this.mediaCommandSuccessCallback.bind(this,"Volume changed"),this.castError.bind(this)),this.trigger("volumechange")):void 0}},{key:"mediaCommandSuccessCallback",value:function(e){l["default"].log(e)}},{key:"muted",value:function(){return this.muted_}},{key:"setMuted",value:function(e){return this.setVolume(this.volume_,e)}},{key:"supportsFullScreen",value:function(){return!1}},{key:"resetSrc_",value:function(e){e()}},{key:"dispose",value:function(){this.resetSrc_(Function.prototype),s(Object.getPrototypeOf(t.prototype),"dispose",this).call(this,this)}}]),t}(d);f.prototype.paused_=!1,f.prototype.options_={},f.prototype.timerStep=1e3,f.isSupported=function(){return!0},d.withSourceHandlers(f),f.nativeSourceHandler={},f.nativeSourceHandler.canPlayType=function(e){var t=/^application\/(?:dash\+xml|(x-|vnd\.apple\.)mpegurl)/i,n=/^video\/(mpd|mp4|webm|m3u8)/i;return t.test(e)?"probably":n.test(e)?"maybe":""},f.nativeSourceHandler.canHandleSource=function(e){return e.type?f.nativeSourceHandler.canPlayType(e.type):e.src?f.nativeSourceHandler.canPlayType(e.src):""},f.nativeSourceHandler.handleSource=function(e,t){t.src(e.src)},f.nativeSourceHandler.dispose=function(){},f.registerSourceHandler(f.nativeSourceHandler),f.prototype.featuresVolumeControl=!0,f.prototype.featuresPlaybackRate=!1,f.prototype.movingMediaElementInDOM=!1,f.prototype.featuresFullscreenResize=!1,f.prototype.featuresTimeupdateEvents=!1,f.prototype.featuresProgressEvents=!1,f.prototype.featuresNativeTextTracks=!0,f.prototype.featuresNativeAudioTracks=!0,f.prototype.featuresNativeVideoTracks=!1,l["default"].options.chromecast={},c.registerComponent("Chromecast",f),d.registerTech("Chromecast",f),n["default"]=f,t.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],26:[function(e,t,n){(function(o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(e,t,n){for(var o=!0;o;){var i=e,r=t,a=n;o=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,r);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=r,n=a,o=!0,s=l=void 0}},u="undefined"!=typeof window?window.videojs:"undefined"!=typeof o?o.videojs:null,l=i(u),c=e("./component/control-bar/chromecast-button"),d=(i(c),e("./tech/chromecast")),f=(i(d),l["default"].getComponent("Component")),p=function(e){function t(e,n){r(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n)}return a(t,e),t}(f);p.prototype.options_={},l["default"].options.children.chromecast={},l["default"].addLanguage("en",{"CASTING TO":"WIEDERGABE AUF"}),l["default"].addLanguage("de",{"CASTING TO":"WIEDERGABE AUF"}),l["default"].addLanguage("it",{"CASTING TO":"PLAYBACK SU"}),l["default"].addLanguage("fr",{"CASTING TO":"CAST EN COURS SUR"});var h=window.navigator.userAgent;l["default"].browser.IS_EDGE=/Edge/i.test(h),f.registerComponent("Chromecast",p),n["default"]=p,t.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./component/control-bar/chromecast-button":23,"./tech/chromecast":25}],27:[function(e,t,n){(function(t){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=function(e,t,n){for(var o=!0;o;){var i=e,r=t,a=n;o=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,r);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=r,n=a,o=!0,s=l=void 0}},u="undefined"!=typeof window?window.videojs:"undefined"!=typeof t?t.videojs:null,l=o(u),c=e("xhr"),d=o(c),f=e("global/window"),p=o(f),h=e("global/document"),y=o(h),v=e("./utils.js"),g=n(v),b=l["default"].getComponent("Component"),m=l["default"].getComponent("Flash"),_=function(e){function t(e,n){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n);var o=this.player().manifestUrl||this.player().currentSrc();this.browserInfo=g.getBrowser(),this.pathUrl=o.match(t.URL_MATCH)||["undefined","undefined"],this.setupTriggers()}return r(t,e),a(t,[{key:"dispose",value:function(){this.clearInterval(this.intervalPing),this.setupTriggers("off")}},{key:"eventHandler",value:function(e){var n={type:e.type},o=!1;switch(n.type){case"error":var i=this.player().error();i=i||{code:-1,message:"cant get error message"},n.number=i.code,n.message=i.message;break;case"dispose":case"ended":n.type===this.oldType&&(o=!0),n.type="stop";break;case"loadstart":o=!0;break;case"firstplay":n.type="start",this.intervalPing=this.setInterval(this.onPing,t.INTERVAL_PING);break;case"waiting":n.type="buffering";break;case"bandwidthIncrease":case"bandwidthDecrease":}this.oldType=n.type,o||this.notify(n)}},{key:"onPing",value:function(){this.player().trigger("ping")}},{key:"setupTriggers",value:function(e){var t=e||"on",n=this.options_.trackEvents,o=this.player(),i=n.length-1;for(i;i>=0;i--){var r=t;"firstplay"===n[i]&&"on"===t&&(r="one"),o[r](n[i],l["default"].bind(this,this.eventHandler))}}},{key:"pick",value:function(e,t,n){var o={};return"string"==typeof t&&(t=[t]),Object.keys(e).forEach(function(n){t.indexOf(n)>-1&&(o[n]=e[n])},n),o}},{key:"getRequiredKeys",value:function(e){return t.BASE_KEYS.concat(t.REQUIRED_KEY[e]||[])}},{key:"notify",value:function(e){var n=this.player(),o=p["default"].innerWidth||y["default"].documentElement.clientWidth||y["default"].body.clientWidth,i=p["default"].innerHeight||y["default"].documentElement.clientHeight||y["default"].body.clientHeight;e.user_id=this.options_.user_id,e.fqdn=this.pathUrl[1],e.os=this.browserInfo.os,e.os_version=this.browserInfo.osVersion.toString(),e.web_browser=this.browserInfo.browser.toString(),e.web_browser_version=this.browserInfo.version?this.browserInfo.version.toString():"",e.resolution_size=o+"x"+i,e.flash_version=m.version().join(","),e.html5_video=n.techName_?"FLash"!==n.techName_||"DashAs"!==n.techName_:"undefined",e.relative_url=this.pathUrl[2],e.timeout=!1,e.frames_dropped=0;try{var r=n.techGet_("getPlaybackStatistics");this.metrics_=l["default"].mergeOptions(this.metrics_,r),e.video_bitrate=this.metrics_.video.bandwidth>0?Math.max(-1,Math.round(this.metrics_.video.bandwidth)):-1,e.audio_bitrate=this.metrics_.audio.bandwidth>0?Math.max(-1,Math.round(this.metrics_.audio.bandwidth)):-1,e.chunks_from_cdn=this.metrics_.p2pweb.chunksFromCDN,e.chunks_from_p2p=this.metrics_.p2pweb.chunksFromP2P,e.startup_time=this.metrics_.p2pweb.startupTime;var a=this.pick(e,this.getRequiredKeys(e.type)),s={json:a,uri:this.options_.url,method:"POST",headers:{"Content-Type":"application/json"}};t.xhr(s,function(e){if(e)throw new Error(e.message)})}catch(u){l["default"].log(u)}}}]),t}(b);_.REQUIRED_KEY={bandwidthIncrease:["video_bitrate","audio_bitrate"],bandwidthDecrease:["video_bitrate","audio_bitrate"],ping:["chunks_from_cdn","chunks_from_p2p"],buffering:[],error:["number","message"],start:["video_bitrate","audio_bitrate","os","os_version","web_browser","web_browser_version","resolution_size","flash_version","html5_video","relative_url"],stop:["timeout","frames_dropped"]},_.URL_MATCH=/https?:\/\/(?:www\.)?([-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b)*(\/[\/\d\w\.-]*)*(?:[\?])*(.+)*/,_.prototype.pathUrl="",_.prototype.oldType=null,_.prototype.intervalPing=0,_.prototype.browserInfo={},_.prototype.options_={option:!0,user_id:666,method:"POST",responseType:"json",timeout:1e3,url:"//stats.afrostream.tv/api/v1/events",trackEvents:["loadstart","ping","firstplay","ended","dispose","waiting","error","bandwidthIncrease","bandwidthDecrease"]},_.INTERVAL_PING=6e4,_.BASE_KEYS=["user_id","type","fqdn"],_.METRICS_DATA={bandwidth:-1,bitrateIndex:0,pendingIndex:"",numBitrates:0,bufferLength:0,droppedFrames:0,movingLatency:0,movingDownload:0,movingRatio:0,requestsQueue:0},_.prototype.metrics_={video:l["default"].mergeOptions({},_.METRICS_DATA),audio:l["default"].mergeOptions({},_.METRICS_DATA)},_.xhr=d["default"],b.registerComponent("Metrics",_),l["default"].options.children.metrics={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./utils.js":29,"global/document":21,"global/window":22,xhr:31}],28:[function(e,t,n){(function(o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r="undefined"!=typeof window?window.videojs:"undefined"!=typeof o?o.videojs:null,a=i(r),s=e("./metrics"),u=i(s),l=function(e){(0,u["default"])(this,e)};a["default"].plugin("metrics",l),n["default"]=l,t.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./metrics":27}],29:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(){var e={},t="",n="",o="",i="",r=void 0,a=void 0,s=void 0,u=void 0;return r=function(){var e=navigator.userAgent.toLowerCase(),r=/(ie|firefox|chrome|safari|opera)(?:.*version)?(?:[ \/])?([\w.]+)/.exec(e),a=/(mac|win|linux|freebsd|mobile|iphone|ipod|ipad|android|blackberry|j2me|webtv)/.exec(e);e.match(/trident\/7\./)?r&&r.length>2&&(t=r[1],n=r[2]):(t="ie",n=11),a&&a.length>1&&(o=a[1]),i=navigator.oscpu||navigator.appName},a=function(){e.browser=t,e.version=parseInt(n,10)||"",e.os=o,e.osVersion=i},s=function(){"mac"===o&&(o="osx")},u=function(){"safari"===o&&(n=n.substring(0,1))},r(),s(),u(),a(),e}Object.defineProperty(n,"__esModule",{value:!0}),n.getBrowser=i;var r=e("global/document"),a=(o(r),e("global/window"));o(a)},{"global/document":21,"global/window":22}],30:[function(e,t,n){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=function(e,t,n){for(var o=!0;o;){var i=e,r=t,a=n;o=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,r);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=r,n=a,o=!0,s=l=void 0}},u="undefined"!=typeof window?window.videojs:"undefined"!=typeof e?e.videojs:null,l=o(u),c=l["default"].getComponent("Component"),d=l["default"].getComponent("Tech"),f=function(e){function t(e,n){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.setPoster(e.poster),this.setSrc(this.options_.source,!0),setTimeout(function(){this.el_.parentNode.className+=" vjs-youtube",p&&(this.el_.parentNode.className+=" vjs-youtube-mobile"),t.isApiReady?this.initYTPlayer():t.apiReadyQueue.push(this)}.bind(this))}return r(t,e),a(t,[{key:"dispose",value:function(){this.el_.parentNode.className=this.el_.parentNode.className.replace(" vjs-youtube","").replace(" vjs-youtube-mobile",""),s(Object.getPrototypeOf(t.prototype),"dispose",this).call(this,this)}},{key:"createEl",value:function(){var e=l["default"].createEl("div",{id:this.options_.techId,style:"width:100%;height:100%;top:0;left:0;position:absolute"}),t=l["default"].createEl("div");if(t.appendChild(e),!p&&!this.options_.ytControls){var n=l["default"].createEl("div",{className:"vjs-iframe-blocker",style:"position:absolute;top:0;left:0;width:100%;height:100%"});n.onclick=this.pause.bind(this),t.appendChild(n)}return t}},{key:"initYTPlayer",value:function(){var e={controls:0,modestbranding:1,rel:0,showinfo:0,loop:this.options_.loop?1:0};"undefined"!=typeof this.options_.autohide&&(e.autohide=this.options_.autohide),"undefined"!=typeof this.options_.cc_load_policy&&(e.cc_load_policy=this.options_.cc_load_policy),"undefined"!=typeof this.options_.ytControls&&(e.controls=this.options_.ytControls),"undefined"!=typeof this.options_.disablekb&&(e.disablekb=this.options_.disablekb),"undefined"!=typeof this.options_.end&&(e.end=this.options_.end),"undefined"!=typeof this.options_.color&&(e.color=this.options_.color),e.controls?"undefined"!=typeof this.options_.fs&&(e.fs=this.options_.fs):e.fs=0,"undefined"!=typeof this.options_.end&&(e.end=this.options_.end),"undefined"!=typeof this.options_.hl?e.hl=this.options_.hl:"undefined"!=typeof this.options_.language&&(e.hl=this.options_.language.substr(0,2)),"undefined"!=typeof this.options_.iv_load_policy&&(e.iv_load_policy=this.options_.iv_load_policy),"undefined"!=typeof this.options_.list?e.list=this.options_.list:this.url&&"undefined"!=typeof this.url.listId&&(e.list=this.url.listId),"undefined"!=typeof this.options_.listType&&(e.listType=this.options_.listType),"undefined"!=typeof this.options_.modestbranding&&(e.modestbranding=this.options_.modestbranding),"undefined"!=typeof this.options_.playlist&&(e.playlist=this.options_.playlist),"undefined"!=typeof this.options_.playsinline&&(e.playsinline=this.options_.playsinline),"undefined"!=typeof this.options_.rel&&(e.rel=this.options_.rel),"undefined"!=typeof this.options_.showinfo&&(e.showinfo=this.options_.showinfo),"undefined"!=typeof this.options_.start&&(e.start=this.options_.start),"undefined"!=typeof this.options_.theme&&(e.theme=this.options_.theme),this.activeVideoId=this.url?this.url.videoId:null,this.activeList=e.list,this.ytPlayer=new YT.Player(this.options_.techId,{videoId:this.activeVideoId,playerVars:e,events:{onReady:this.onPlayerReady.bind(this),onPlaybackQualityChange:this.onPlayerPlaybackQualityChange.bind(this),onStateChange:this.onPlayerStateChange.bind(this),onError:this.onPlayerError.bind(this)}})}},{key:"onPlayerReady",value:function(){this.playerReady_=!0,this.triggerReady(),this.playOnReady&&this.play()}},{key:"onPlayerPlaybackQualityChange",value:function(){}},{key:"onPlayerStateChange",value:function(e){var t=e.data;if(t!==this.lastState&&!this.errorNumber){switch(t){case-1:this.trigger("loadedmetadata"),this.trigger("durationchange");break;case YT.PlayerState.ENDED:this.trigger("ended");break;case YT.PlayerState.PLAYING:this.trigger("timeupdate"),this.trigger("durationchange"),this.trigger("playing"),this.trigger("play"),this.isSeeking&&this.onSeeked();break;case YT.PlayerState.PAUSED:this.trigger("canplay"),this.isSeeking?this.onSeeked():this.trigger("pause");break;case YT.PlayerState.BUFFERING:this.player_.trigger("timeupdate"),this.player_.trigger("waiting")}this.lastState=t}}},{key:"onPlayerError",value:function(e){this.errorNumber=e.data,this.trigger("error"),this.ytPlayer.stopVideo(),this.ytPlayer.destroy(),this.ytPlayer=null}},{key:"error",value:function(){switch(this.errorNumber){case 5:return{code:"Error while trying to play the video"};case 2:case 100:case 150:return{code:"Unable to find the video"};case 101:return{code:"Playback on other Websites has been disabled by the video owner."}}return{code:"YouTube unknown error ("+this.errorNumber+")"}}},{key:"src",value:function(e){return e&&(this.setSrc({src:e}),this.options_.autoplay&&!p&&this.play()),this.source}},{key:"poster",value:function(){return p?null:this.poster_}},{key:"setPoster",value:function(e){this.poster_=e}},{key:"setSrc",value:function(e){e&&e.src&&(delete this.errorNumber,this.source=e,this.url=t.parseUrl(e.src),this.options_.poster||this.url.videoId&&(this.poster_="https://img.youtube.com/vi/"+this.url.videoId+"/0.jpg",this.checkHighResPoster()),this.options_.autoplay&&!p&&(this.isReady_?this.play():this.playOnReady=!0))}},{key:"play",value:function(){this.url&&this.url.videoId&&(this.wasPausedBeforeSeek=!1,this.isReady_?(this.url.listId&&(this.activeList===this.url.listId?this.ytPlayer.playVideo():(this.ytPlayer.loadPlaylist(this.url.listId),this.activeList=this.url.listId)),this.activeVideoId===this.url.videoId?this.ytPlayer.playVideo():(this.ytPlayer.loadVideoById(this.url.videoId),this.activeVideoId=this.url.videoId)):(this.trigger("waiting"),this.playOnReady=!0))}},{key:"pause",value:function(){this.ytPlayer&&this.ytPlayer.pauseVideo()}},{key:"paused",value:function(){return this.ytPlayer?this.lastState!==YT.PlayerState.PLAYING&&this.lastState!==YT.PlayerState.BUFFERING:!0}},{key:"currentTime",value:function(){return this.ytPlayer?this.ytPlayer.getCurrentTime():0}},{key:"setCurrentTime",value:function(e){this.lastState===YT.PlayerState.PAUSED&&(this.timeBeforeSeek=this.currentTime()),this.isSeeking||(this.wasPausedBeforeSeek=this.paused()),this.ytPlayer.seekTo(e,!0),this.trigger("timeupdate"),this.trigger("seeking"),this.isSeeking=!0,this.lastState===YT.PlayerState.PAUSED&&this.timeBeforeSeek!==e&&(this.clearInterval(this.checkSeekedInPauseInterval),this.checkSeekedInPauseInterval=this.setInterval(function(){this.lastState===YT.PlayerState.PAUSED&&this.isSeeking?this.currentTime()!==this.timeBeforeSeek&&(this.trigger("timeupdate"),this.onSeeked()):this.clearInterval(this.checkSeekedInPauseInterval)}.bind(this),250))}},{key:"onSeeked",value:function(){this.clearInterval(this.checkSeekedInPauseInterval),this.isSeeking=!1,this.wasPausedBeforeSeek&&this.pause(),this.trigger("seeked")}},{key:"playbackRate",value:function(){return this.ytPlayer?this.ytPlayer.getPlaybackRate():1}},{key:"setPlaybackRate",value:function(e){this.ytPlayer&&(this.ytPlayer.setPlaybackRate(e),this.trigger("ratechange"))}},{key:"duration",value:function(){return this.ytPlayer?this.ytPlayer.getDuration():0}},{key:"currentSrc",value:function(){return this.source}},{key:"ended",value:function(){return this.ytPlayer?this.lastState===YT.PlayerState.ENDED:!1}},{key:"volume",value:function(){return this.ytPlayer?this.ytPlayer.getVolume()/100:1}},{key:"setVolume",value:function(e){this.ytPlayer&&(this.ytPlayer.setVolume(100*e),this.setTimeout(function(){this.trigger("volumechange")},50))}},{key:"muted",value:function(){return this.ytPlayer?this.ytPlayer.isMuted():!1}},{key:"setMuted",value:function(e){this.ytPlayer&&(this.muted(!0),e?this.ytPlayer.mute():this.ytPlayer.unMute(),this.setTimeout(function(){this.trigger("volumechange")},50))}},{key:"buffered",value:function(){if(!this.ytPlayer||!this.ytPlayer.getVideoLoadedFraction)return{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}};var e=this.ytPlayer.getVideoLoadedFraction()*this.ytPlayer.getDuration();return{length:this.ytPlayer.getDuration(),start:function(){return 0},end:function(){return e}}}},{key:"load",value:function(){}},{key:"resetction",value:function(){}},{key:"supportsFullScreen",value:function(){return!0}},{key:"checkHighResPoster",value:function(){var e=this,t="https://img.youtube.com/vi/"+this.url.videoId+"/maxresdefault.jpg";try{!function(){var n=new Image;n.onload=function(){if("naturalHeight"in n){if(n.naturalHeight<=90||n.naturalWidth<=120)return}else if(n.height<=90||n.width<=120)return;this.poster_=t,this.trigger("posterchange")}.bind(e),n.onerror=function(){},n.src=t}()}catch(n){}}}]),t}(d);f.prototype.options_={},f.apiReadyQueue=[],f.isSupported=function(){return!0},d.withSourceHandlers(f),f.nativeSourceHandler={};var p=/(iPad|iPhone|iPod|Android)/g.test(navigator.userAgent);f.parseUrl=function(e){var t={videoId:null},n=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,o=e.match(n);o&&11===o[2].length&&(t.videoId=o[2]);var i=/[?&]list=([^#\&\?]+)/;return o=e.match(i),o&&o[1]&&(t.listId=o[1]),t};var h=function(){var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)},y=function(){var e=".vjs-youtube .vjs-iframe-blocker { display: none; }.vjs-youtube.vjs-user-inactive .vjs-iframe-blocker { display: block; }.vjs-youtube .vjs-poster { background-size: cover; }.vjs-youtube-mobile .vjs-big-play-button { display: none; }",t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n)};f.nativeSourceHandler.canPlayType=function(e){return"video/youtube"===e},f.nativeSourceHandler.canHandleSource=function(e){return e.type?f.nativeSourceHandler.canPlayType(e.type):e.src?f.nativeSourceHandler.canPlayType(e.src):""},f.nativeSourceHandler.handleSource=function(e,t){t.src(e.src)},f.nativeSourceHandler.dispose=function(){},f.registerSourceHandler(f.nativeSourceHandler),window.onYouTubeIframeAPIReady=function(){f.isApiReady=!0;for(var e=0;e<f.apiReadyQueue.length;++e)f.apiReadyQueue[e].initYTPlayer()},h(),y(),c.registerComponent("Youtube",f),d.registerTech("Youtube",f),n["default"]=f,t.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
},{}],31:[function(e,t,n){"use strict";function o(e,t){for(var n=0;n<e.length;n++)t(e[n])}function i(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function r(e,t,n){var o=e;return d(t)?(n=t,"string"==typeof e&&(o={uri:e})):o=p(t,{uri:e}),o.callback=n,o}function a(e,t,n){return t=r(e,t,n),s(t)}function s(e){function t(){4===l.readyState&&r()}function n(){var e=void 0;if(l.response?e=l.response:"text"!==l.responseType&&l.responseType||(e=l.responseText||l.responseXML),_)try{e=JSON.parse(e)}catch(t){}return e}function o(e){clearTimeout(h),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,s(e,u)}function r(){if(!p){var t;clearTimeout(h),t=e.useXDR&&void 0===l.status?200:1223===l.status?204:l.status;var o=u,i=null;0!==t?(o={body:n(),statusCode:t,method:v,headers:{},url:y,rawRequest:l},l.getAllResponseHeaders&&(o.headers=f(l.getAllResponseHeaders()))):i=new Error("Internal XMLHttpRequest Error"),s(i,o,o.body)}}var s=e.callback;if("undefined"==typeof s)throw new Error("callback argument missing");s=c(s);var u={body:void 0,headers:{},statusCode:0,method:v,url:y,rawRequest:l},l=e.xhr||null;l||(l=e.cors||e.useXDR?new a.XDomainRequest:new a.XMLHttpRequest);var d,p,h,y=l.url=e.uri||e.url,v=l.method=e.method||"GET",g=e.body||e.data||null,b=l.headers=e.headers||{},m=!!e.sync,_=!1;if("json"in e&&(_=!0,b.accept||b.Accept||(b.Accept="application/json"),"GET"!==v&&"HEAD"!==v&&(b["content-type"]||b["Content-Type"]||(b["Content-Type"]="application/json"),g=JSON.stringify(e.json))),l.onreadystatechange=t,l.onload=r,l.onerror=o,l.onprogress=function(){},l.ontimeout=o,l.open(v,y,!m,e.username,e.password),m||(l.withCredentials=!!e.withCredentials),!m&&e.timeout>0&&(h=setTimeout(function(){p=!0,l.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",o(e)},e.timeout)),l.setRequestHeader)for(d in b)b.hasOwnProperty(d)&&l.setRequestHeader(d,b[d]);else if(e.headers&&!i(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(l.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(l),l.send(g),l}function u(){}var l=e("global/window"),c=e("once"),d=e("is-function"),f=e("parse-headers"),p=e("xtend");t.exports=a,a.XMLHttpRequest=l.XMLHttpRequest||u,a.XDomainRequest="withCredentials"in new a.XMLHttpRequest?a.XMLHttpRequest:l.XDomainRequest,o(["get","put","post","patch","head","delete"],function(e){a["delete"===e?"del":e]=function(t,n,o){return n=r(t,n,o),n.method=e.toUpperCase(),s(n)}})},{"global/window":22,"is-function":32,once:33,"parse-headers":36,xtend:37}],32:[function(e,t,n){function o(e){var t=i.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}t.exports=o;var i=Object.prototype.toString},{}],33:[function(e,t,n){function o(e){var t=!1;return function(){return t?void 0:(t=!0,e.apply(this,arguments))}}t.exports=o,o.proto=o(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return o(this)},configurable:!0})})},{}],34:[function(e,t,n){function o(e,t,n){if(!s(t))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===u.call(e)?i(e,t,n):"string"==typeof e?r(e,t,n):a(e,t,n)}function i(e,t,n){for(var o=0,i=e.length;i>o;o++)l.call(e,o)&&t.call(n,e[o],o,e)}function r(e,t,n){for(var o=0,i=e.length;i>o;o++)t.call(n,e.charAt(o),o,e)}function a(e,t,n){for(var o in e)l.call(e,o)&&t.call(n,e[o],o,e)}var s=e("is-function");t.exports=o;var u=Object.prototype.toString,l=Object.prototype.hasOwnProperty},{"is-function":32}],35:[function(e,t,n){function o(e){return e.replace(/^\s*|\s*$/g,"")}n=t.exports=o,n.left=function(e){return e.replace(/^\s*/,"")},n.right=function(e){return e.replace(/\s*$/,"")}},{}],36:[function(e,t,n){var o=e("trim"),i=e("for-each"),r=function(e){return"[object Array]"===Object.prototype.toString.call(e)};t.exports=function(e){if(!e)return{};var t={};return i(o(e).split("\n"),function(e){var n=e.indexOf(":"),i=o(e.slice(0,n)).toLowerCase(),a=o(e.slice(n+1));"undefined"==typeof t[i]?t[i]=a:r(t[i])?t[i].push(a):t[i]=[t[i],a]}),t}},{"for-each":34,trim:35}],37:[function(e,t,n){function o(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var o in n)i.call(n,o)&&(e[o]=n[o])}return e}t.exports=o;var i=Object.prototype.hasOwnProperty},{}],38:[function(e,t,n){(function(o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=function(e,t,n){for(var o=!0;o;){var i=e,r=t,a=n;o=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,r);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=r,n=a,o=!0,s=l=void 0}},l="undefined"!=typeof window?window.videojs:"undefined"!=typeof o?o.videojs:null,c=i(l),d="undefined"!=typeof window?window.dashjs:"undefined"!=typeof o?o.dashjs:null;e("./tech/media"),e("./tech/dash"),e("./tech/dashas"),e("./tech/easy-broadcast"),e("./component/control-bar/"),e("videojs-metrics"),e("videojs-chromecast"),e("videojs-youtube");var f=c["default"].getComponent("Component"),p=c["default"].getComponent("ControlBar"),h=function(e){function t(e,n,o){r(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n,o),e.one("loadstart",this.onLoadStart.bind(this)),e.getPlaybackStatistics=this.getPlaybackStatistics.bind(this),e.one("fullscreenchange",this.onFullScreenChange.bind(this))}return a(t,e),s(t,[{key:"getPrefix",value:function(){return(screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation)&&"orientation"in screen}},{key:"onFullScreenChange",value:function(){var e=this.getPrefix();if(e)try{this.player_.isFullscreen()?screen.orientation.lock("landscape"):screen.orientation.unlock()}catch(t){c["default"].log(t)}}},{key:"onLoadStart",value:function(){this.addMediaPlayerHandlers()}},{key:"addMediaPlayerHandlers",value:function(){this.player_.tech_.on(d.MediaPlayer.events.STREAM_INITIALIZED,this.onInitialized.bind(this)),this.player_.tech_.on(d.MediaPlayer.events.METRIC_CHANGED,this.onMetricChanged.bind(this))}},{key:"onMetricChanged",value:function(e){if("video"===e.mediaType||"audio"===e.mediaType||"p2pweb"===e.mediaType){var t=this.getCribbedMetricsFor(e.mediaType);if(t)switch(e.mediaType){case"video":t.bandwidth!==this.oldBandwidth&&(this.player_.trigger(t.bandwidth>this.oldBandwidth?"bandwidthIncrease":"bandwidthDecrease"),this.oldBandwidth=t.bandwidth);break;case"p2pweb":t.chunksFromP2P!==this.oldChunksFromP2P&&(this.player_.trigger("chunksfromp2p"),this.oldChunksFromP2P=t.chunksFromP2P)}}}},{key:"onInitialized",value:function(e,t){t&&this.player_.error(t)}},{key:"audioTracks",value:function(){return this.player_.tech_&&this.player_.techGet_("audioTracks")}},{key:"setAudioTrack",value:function(e){return this.player_.tech_&&this.player_.techCall_("setAudioTrack",e)}},{key:"videoTracks",value:function(){return this.player_.tech_&&this.player_.techGet_("videoTracks")}},{key:"setVideoTrack",value:function(e){return this.player_.tech_&&this.player_.tech_.setVideoTrack(e)}},{key:"getPlaybackStatistics",value:function(){return this.player_.tech_&&this.player_.tech_.getPlaybackStatistics()}},{key:"getCribbedMetricsFor",value:function(e){return this.player_.tech_&&this.player_.tech_.getCribbedMetricsFor(e)}}]),t}(f);h.prototype.options_={},h.prototype.oldBandwidth=0,h.prototype.oldChunksFromP2P=0,h.prototype.streamInfo=null,h.prototype.tech_=null,c["default"].options.children.push("afrostream"),p.prototype.options_.children.splice(11,0,p.prototype.options_.children.splice(1,1)[0]),f.registerComponent("Afrostream",h),n["default"]=h,t.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./component/control-bar/":1,"./tech/dash":16,"./tech/dashas":17,"./tech/easy-broadcast":18,"./tech/media":19,"videojs-chromecast":24,"videojs-metrics":28,"videojs-youtube":30}]},{},[38])(38)});