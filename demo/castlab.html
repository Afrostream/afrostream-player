<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>castLabs DASH Everywhere Player Integration example</title>
  <link href="http://vjs.zencdn.net/4.11.4/video-js.css" rel="stylesheet">
  <script src="http://vjs.zencdn.net/4.11.4/video.js"></script>
  <style>
    .vjs-default-skin .vjs-audiotracks-button:before {
      content: "\e600"; /* cog icon */
    }

    .vjs-default-skin .vjs-texttracks-button:before {
      content: "\e00c"; /* subtitles icon */
    }
  </style>
  <script src="../lib/castlab/3.1.2/cldasheverywhere.min.js"></script>
</head>
<body>
<video id="vid" class="video-js vjs-default-skin vjs-big-play-centered" preload="auto" width="640px" height="480px">
</video>
<script>
  //Init player
  var config, player;
  var config = {
    "customData": {
      "userId": 12345,
      "sessionId": "ewogICJwcm9maWxlIiA6IHsKICAgICJwdXJjaGFzZSIgOiB7IH0KICB9LAogICJvdXRwdXRQcm90ZWN0aW9uIiA6IHsKICAgICJkaWdpdGFsIiA6IGZhbHNlLAogICAgImFuYWxvZ3VlIiA6IGZhbHNlLAogICAgImVuZm9yY2UiIDogZmFsc2UKICB9LAogICJzdG9yZUxpY2Vuc2UiIDogZmFsc2UKfQoK",
      "merchant": "cablelabs"
    },
    "sendCustomData": true,
    "widevineHeader": {
      "provider": "castlabs",
      "contentId": "fkj3ljaSdfalkr3j",
      "trackType": "",
      "policy": ""
    },
    "assetId": "",
    "variantId": "",
    "debug": true,
    "ABRParameters": {
      "qualitySwitchThreshold": 2000,
      "bandwidthSafetyFactor": 1.75,
      "minBufferLength": 15,
      "maxBufferLength": 20,
      "liveDelay": 2,
      "disableBufferOccupancyRule": false
    },
    "authenticationToken": null,
    "widevineLicenseServerURL": "https://lic.staging.drmtoday.com/license-proxy-widevine/cenc/",
    "accessLicenseServerURL": "https://lic.staging.drmtoday.com/flashaccess/LicenseTrigger/v1",
    "playReadyLicenseServerURL": "https://lic.staging.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx",
    "silverlightFile": "./dashcs/dashcs.xap",
    "flashFile": './libs/dashas.swf',
    "techs": ['dashas', 'dashcs']
  };

  player = videojs('vid', {
    plugins: {
      audiotracks: {
        title: 'Languages'
      },
      texttracks: {
        title: 'Subtitles'
      }
    },
    sources: [{
      "src": "http://html5.cablelabs.com:8100/cenc/prwv/dash_init.mpd",
      "type": "application/dash+xml"
    }],
    autoplay: true,
    controls: true,
    dasheverywhere: config,
    techOrder: ['dasheverywhere']
  });

</script>
</body>
</html>
