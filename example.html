<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Afrostream Player</title>

  <link href="node_modules/video.js/dist/video-js/video-js.css" rel="stylesheet">
  <link href="./dist/afrostream-player.css" rel="stylesheet">

  <style>
    body {
      font-family: Arial, sans-serif;
    }

    .info {
      background-color: #eee;
      border: thin solid #333;
      border-radius: 3px;
      padding: 0 5px;
      text-align: center;
    }

    .video-js {
      margin: 40px auto;
    }
  </style>
</head>
<body>
<div class="info">
  <p>
    You can see the Afrostream Player plugin in action below.
    Look at the source of this page to see how to use it with your videos.
  </p>
</div>
<video id="video"
       class="video-js vjs-afrostream-skin"
       height="300"
       width="600"
       controls>
  <p>
    Your browser doesn't support video. Please <a href="http://browsehappy.com/">upgrade your browser</a> to see the
    example.
  </p>
</video>
<script src="node_modules/video.js/dist/video-js/video.dev.js"></script>
<script src="node_modules/videojs-metrics/dist/videojs-metrics.js"></script>
<script src="./lib/castlab/3.1.2/cldasheverywhere.min.js"></script>
<script src="./lib/control-bar/bitrate-control.js"></script>
<script src="./lib/control-bar/progress-tip.js"></script>
<script src="./lib/afrostream-player.js"></script>
<!--<script src="http://localhost:8000/lib/videojs-metrics.js"></script>-->
<script>
  //Init player
  var config, player;
  var config = {
    "customData": {
      "userId": "sample-user-id",
      "sessionId": "sample-session-id",
      "merchant": "sample-merchant"
    },
    "sendCustomData": true,
    "widevineHeader": {
      "provider": "castlabs",
      "contentId": "fkj3ljaSdfalkr3j",
      "trackType": "",
      "policy": ""
    },
    "assetId": "",
    "variantId": "",
    "debug": true,
    "ABRParameters": {
      "qualitySwitchThreshold": 2000,
      "bandwidthSafetyFactor": 1.75,
      "minBufferLength": 15,
      "maxBufferLength": 20,
      "liveDelay": 2,
      "disableBufferOccupancyRule": false
    },
    "authenticationToken": null,
    "widevineLicenseServerURL": "https://lic.staging.drmtoday.com/license-proxy-widevine/cenc/",
    "accessLicenseServerURL": "https://lic.staging.drmtoday.com/flashaccess/LicenseTrigger/v1",
    "playReadyLicenseServerURL": "https://lic.staging.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx",
    "silverlightFile": "./lib/castlab/3.1.2/dashcs/dashcs.xap",
    "flashFile": './lib/castlab/3.1.2/dashas/dashas.swf',
    "techs": ['dashjs', 'dashas', 'dashcs']
  };

  player = videojs('video', {
    muted: true,
    metrics: {user_id: 33},
    plugins: {
      audiotracks: {
        title: 'Languages'
      },
      texttracks: {
        title: 'Subtitles'
      }
    },
    autoplay: true,
    controls: true,
    dasheverywhere: config,
    techOrder: ['dasheverywhere']
  }).ready(function () {
    this.loadVideo('https://origin.cdn.afrostream.net/vod/TheWild_s1ep001/c4ebd55b8bc55289.ism/c4ebd55b8bc55289.mpd', {});
    this.enableABRSwitching(true);
  });
</script>
</body>
</html>
